this.TeamList=function(n){var r={};function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}return o.m=n,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=19)}([function(e,t){!function(){e.exports=this.wp.element}()},function(e,t){!function(){e.exports=this.wp.i18n}()},function(e,t){!function(){e.exports=this.wp.components}()},function(e,t){!function(){e.exports=this.wp.data}()},function(e,t,n){var o=n(5);e.exports=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){o(t,e,n[e])})}return t}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}},function(e,t,n){var r=n(16),o=n(17);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?o(e):t}},function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(e)}t.exports=n},function(e,t,n){var r=n(18);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t){!function(){e.exports=this.wp.blocks}()},function(e,t){!function(){e.exports=this.wp.editor}()},function(e,t){function a(e,t,n,r,o,i,s){try{var c=e[i](s),a=c.value}catch(e){return void n(e)}c.done?t(a):Promise.resolve(a).then(r,o)}e.exports=function(c){return function(){var e=this,s=arguments;return new Promise(function(t,n){var r=c.apply(e,s);function o(e){a(r,t,n,o,i,"next",e)}function i(e){a(r,t,n,o,i,"throw",e)}o(void 0)})}}},function(e,t){!function(){e.exports=this.wp.apiFetch}()},function(e,t,n){},function(t,e){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?t.exports=r=function(e){return n(e)}:t.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},r(e)}t.exports=r},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(n,e){function r(e,t){return n.exports=r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}n.exports=r},function(e,t,n){"use strict";n.r(t);var r,f=n(0),m=n(1),o=n(11),l=n(12),p=n(2),i=(n(15),n(6)),s=n.n(i),c=n(7),a=n.n(c),u=n(8),b=n.n(u),d=n(9),y=n.n(d),w=n(10),h=n.n(w),O=n(13),j=n.n(O),_=n(5),v=n.n(_),g=n(4),S=n.n(g),E=n(3),x=n(14),L=n.n(x),k={users:{},isLoading:{}};Object(E.registerStore)("wp-team-list",{reducer:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:k,t=1<arguments.length?arguments[1]:void 0;switch(t.type){case"SET_USERS":return S()({},e,{users:S()({},e.users,v()({},t.query,t.users))});case"SET_IS_LOADING":return S()({},e,{isLoading:S()({},e.isLoading,v()({},t.query,t.isLoading))})}return e},actions:{setUsers:function(e,t){return{type:"SET_USERS",query:e,users:t}},setLoading:function(e,t){return{type:"SET_IS_LOADING",query:e,isLoading:t}}},selectors:{getUsers:function(e,t){return e.users[t]},isLoading:function(e,t){var n=e.isLoading;return n[t]}},resolvers:{getUsers:(r=j()(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Object(E.dispatch)("wp-team-list").setLoading(n,!0),e.next=3,L()({path:"/wp-team-list/v1/users?"+n});case 3:r=e.sent,Object(E.dispatch)("wp-team-list").setLoading(n,!1),Object(E.dispatch)("wp-team-list").setUsers(n,r);case 6:case"end":return e.stop()}},e,this)})),function(e,t){return r.apply(this,arguments)})}});var C=function(e){function t(){return s()(this,t),b()(this,y()(t).apply(this,arguments))}return h()(t,e),a()(t,[{key:"render",value:function(){var e=this.props,t=e.user,n=t.id,r=t.role,o=t.role_display_name,i=t.display_name,s=t.avatar_urls,c=t.description,a=t.link,u=t.post_count,l=e.showDescription,p=e.className;return Object(f.createElement)("div",{className:"wp-team-member wp-team-list-item author-".concat(n," role-").concat(r," ").concat(p)},Object(f.createElement)("figure",{className:"wp-team-member-avatar author-image"},Object(f.createElement)("img",{src:s[48],srcSet:"".concat(s[96]," 2x"),alt:"",width:"90"})),Object(f.createElement)("h2",{className:"wp-team-member-name"},i),o&&Object(f.createElement)("p",{className:"wp-team-member-role"},o),l&&Object(f.createElement)("p",{className:"wp-team-member-description"},c),u&&Object(f.createElement)("p",{className:"wp-team-member-posts-link"},Object(f.createElement)("a",{href:a,title:Object(m.sprintf)(Object(m.__)("View all posts by %s","wp-team-list"),i)},Object(m.sprintf)(Object(m._n)("View %s post","View %s posts",u,"wp-team-list"),u))))}}]),t}(f.Component),P=function(e){function t(){return s()(this,t),b()(this,y()(t).apply(this,arguments))}return h()(t,e),a()(t,[{key:"render",value:function(){var e=this.props,t=e.users,n=e.showLink,r=e.showDescription,o=e.isLoading;if(o&&!t)return Object(f.createElement)(p.Spinner,null);if(!t)return Object(f.createElement)("p",null,Object(m.__)("There are no users to show.","wp-team-list"));var i=t.map(function(e){return Object(f.createElement)(C,{user:e,showDescription:r,key:e.id})});return Object(f.createElement)(f.Fragment,null,o&&Object(f.createElement)(p.Spinner,null),i,n&&Object(f.createElement)("a",{href:"",className:"show-all"},Object(m.__)("Show all team members","wp-team-list")))}}]),t}(f.Component),N=Object(E.withSelect)(function(e,t){var n=t.number,r=t.roles,o=t.orderBy,i=t.order,s=t.showLink,c=t.showDescription,a=e("wp-team-list"),u=a.getUsers,l=a.isLoading,p={order:i,order_by:o,roles:r,per_page:n},f=Object.keys(p).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(p[e])}).reduce(function(e,t){return"".concat(e,"&").concat(t)});return{users:u(f),isLoading:l(f),showLink:s,showDescription:c}})(P);Object(o.registerBlockType)("required/wp-team-list",{title:Object(m.__)("Team List","wp-team-list"),description:Object(m.__)("Display website authors.","wp-team-list"),category:"widgets",icon:"groups",keywords:[Object(m.__)("team","wp-team-list"),Object(m.__)("list","wp-team-list"),Object(m.__)("authors","wp-team-list")],supports:{anchor:!1,customClassName:!1,html:!1},attributes:{number:{type:"number",default:10},showLink:{type:"boolean",default:!0},showDescription:{type:"boolean",default:!0},roles:{type:"array",default:["administrator"]},orderBy:{type:"string",default:"post_count"},order:{type:"string",default:"desc"}},edit:function(e){var t=e.className,n=e.attributes,r=n.number,o=n.showLink,i=n.showDescription,s=n.roles,c=n.orderBy,a=n.order,u=e.setAttributes;return Object(f.createElement)(f.Fragment,null,Object(f.createElement)(N,{number:r,showLink:o,showDescription:i,roles:s,orderBy:c,order:a,className:t}),Object(f.createElement)(l.InspectorControls,null,Object(f.createElement)(p.PanelBody,null,Object(f.createElement)(p.TextControl,{label:Object(m.__)("Number of users to display","wp-team-list"),type:"number",value:r,onChange:function(e){u({number:e})}}),Object(f.createElement)(p.SelectControl,{label:Object(m.__)("Roles","wp-team-list"),help:Object(m.__)("Only show users with the selected roles","wp-team-list"),value:s,options:[{value:"administrator",label:"Administrator"},{value:"subscriber",label:"Subscriber"},{value:"editor",label:"Editor"}],multiple:!0,onChange:function(e){u({roles:e})}}),Object(f.createElement)(p.SelectControl,{label:Object(m.__)("Order By","wp-team-list"),value:c,options:[{value:"post_count",label:Object(m.__)("Post Count","wp-team-list")},{value:"first_name",label:Object(m.__)("First Name","wp-team-list")},{value:"last_name",label:Object(m.__)("Last Name","wp-team-list")}],onChange:function(e){u({orderBy:e})}}),Object(f.createElement)(p.SelectControl,{label:Object(m.__)("Order","wp-team-list"),value:a,options:[{value:"asc",label:Object(m.__)("Ascending","wp-team-list")},{value:"desc",label:Object(m.__)("Descending","wp-team-list")}],onChange:function(e){u({order:e})}}),Object(f.createElement)(p.ToggleControl,{label:Object(m.__)("Show user description","wp-team-list"),checked:i,onChange:function(e){u({showDescription:e})}}))))},save:function(){return null}})}]);